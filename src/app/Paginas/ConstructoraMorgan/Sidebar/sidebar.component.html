<!-- Botón lateral SOLO si es móvil y el sidebar está oculto -->
<div class="sidebar-tab position-fixed top-50 start-0 translate-middle-y z-2" *ngIf="EsMovil && !SidebarVisible"
  (click)="AlternarSidebar()">
  <span>&#x25B6;</span>
</div>

<!-- SIDEBAR visible según lógica -->
<nav *ngIf="SidebarVisible"
  class="bg-dark text-white d-flex flex-column p-4 shadow-lg border-end border-secondary-subtle position-fixed"
  id="sidebar" style="width: 260px; height: 100vh; top: 0; left: 0; backdrop-filter: blur(4px); z-index: 9999;">
  <div class="mb-5 text-center border-bottom pb-3">
    <div class="d-flex justify-content-center align-items-start gap-0 mb-0">
      <img src="Naruto.png" alt="Logo Naruto" width="70" height="70" />
      <div class="fs-4 text-muted mt-4">🌀</div>
    </div>
    <h4 class="fw-bold mb-0">Prosystem S.A.</h4>
    <small class="text-secondary fst-italic">Panel Maestro</small>
  </div>

  <ul class="nav flex-column gap-2">
    <li class="nav-item">
      <a (click)="Navegar(NombreEmpresaConstructoraMorgan + '/empresa-listado')" style="cursor: pointer;" [ngClass]="{
        'nav-link d-flex align-items-center px-3 py-2 rounded-3 text-white cursor-pointer':
          true,
        'bg-primary bg-opacity-10 border-start border-3 border-primary':
          isActive('empresa-listado')
      }">
        <span class="me-3 fs-5">🏢</span> Empresa
      </a>
    </li>
    <li class="nav-item">
      <a (click)="Navegar(NombreEmpresaConstructoraMorgan + '/rol-listado')" style="cursor: pointer;" [ngClass]="{
      'nav-link d-flex align-items-center px-3 py-2 text-white rounded-3 cursor-pointer hover-effect':
        true,
      'bg-primary bg-opacity-10 border-start border-3 border-primary':
        isActive('rol-listado')
    }">
        <span class="me-3 fs-5">🛡️</span> Rol
      </a>
    </li>

    <li class="nav-item">
      <a (click)="Navegar(NombreEmpresaConstructoraMorgan + '/usuario-listado')" style="cursor: pointer;" [ngClass]="{
      'nav-link d-flex align-items-center px-3 py-2 text-white rounded-3 cursor-pointer hover-effect':
        true,
      'bg-primary bg-opacity-10 border-start border-3 border-primary':
        isActive('usuario-listado')
    }">
        <span class="me-3 fs-5">👤</span> Usuario
      </a>
    </li>

    <li class="nav-item">
      <a (click)="Navegar(NombreEmpresaConstructoraMorgan + '/permiso-listado')" style="cursor: pointer;" [ngClass]="{
      'nav-link d-flex align-items-center px-3 py-2 text-white rounded-3 cursor-pointer hover-effect':
        true,
      'bg-primary bg-opacity-10 border-start border-3 border-primary':
        isActive('permiso-listado')
    }">
        <span class="me-3 fs-5">🔐</span> Permiso
      </a>
    </li>

    <li class="nav-item">
      <a (click)="Navegar(NombreEmpresaConstructoraMorgan + '/recurso-listado')" style="cursor: pointer;" [ngClass]="{
      'nav-link d-flex align-items-center px-3 py-2 text-white rounded-3 cursor-pointer hover-effect':
        true,
      'bg-primary bg-opacity-10 border-start border-3 border-primary':
        isActive('recurso-listado')
    }">
        <span class="me-3 fs-5">📁</span> Recurso
      </a>
    </li>

    <li class="nav-item">
      <a (click)="Navegar(NombreEmpresaConstructoraMorgan + '/permiso-rol-recurso-listado')" style="cursor: pointer;"
        [ngClass]="{
      'nav-link d-flex align-items-center px-3 py-2 text-white rounded-3 cursor-pointer hover-effect':
        true,
      'bg-primary bg-opacity-10 border-start border-3 border-primary':
        isActive('permiso-rol-recurso-listado')
    }">
        <span class="me-3 fs-5">🔗</span> Permiso por rol y recurso
      </a>
    </li>
    <li class="nav-item">
      <a (click)="Navegar(NombreEmpresaConstructoraMorgan + '/pago')" style="cursor: pointer;" [ngClass]="{
    'nav-link d-flex align-items-center px-3 py-2 text-white rounded-3 cursor-pointer hover-effect': true,
    'bg-primary bg-opacity-10 border-start border-3 border-primary': isActive('pago')
  }">
        <span class="me-3 fs-5">💳</span> Pagos
      </a>
    </li>



  </ul>
  <div class="mt-auto pt-4">
    <hr class="border-secondary">
    <div class="text-center mt-3">
      <button (click)="CerrarSesion()" class="btn btn-sm rounded-pill text-white w-100"
        style="border: 1.5px solid white; background-color: transparent;">
        <i class="bi bi-box-arrow-right me-2"></i>
        Cerrar sesión
      </button>
    </div>



    <p class="text-center text-white small mt-3 mb-0">© 2025 Prosystem</p>
  </div>

</nav>